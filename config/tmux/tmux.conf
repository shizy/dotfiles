set -g default-terminal "tmux-256color"
set -g history-limit 32768
set -g mode-keys vi
set -g terminal-overrides 'xterm*:smcup@:rmcup@'
set -g status-keys vi
set -g status off
setw -g automatic-rename

bind -n M-v capture-pane -S -32768 \; save-buffer '/tmp/tmux-buf' \; delete-buffer \; new-window "nvim -R -M -c 'silent! ?.' -c 'nohl' /tmp/tmux-buf; rm /tmp/tmux-buf" \;
bind -n M-\; command-prompt
#bind -n M-Space choose-tree -F "#{buffer_name} #{window_name} #{?session_attached,,(detached)}"
bind -n M-Space run 'tmux choose-tree -F "##{?window_active,    ,     } ##{window_name}" -wf "##{==:##{session_name},#{session_name}}"'
bind -n M-x run 'tmux choose-tree -F "##{?window_active,    ,     } ##{window_name}" -wf "##{==:##{session_name},#{session_name}}" "kill-window -t '%%'"'
