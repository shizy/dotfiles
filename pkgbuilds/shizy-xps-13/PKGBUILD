# Maintainer: shizy <shizukesa4 at gmail dot com>
pkgname=shizy-xps-13
pkgver=1
pkgrel=1
pkgdesc='system dependencies and configs'
arch=('any')
url=https://github.com/shizy/dotfiles
license=('ISC')
makedepends=('unzip')
depends=(
    'alsa-utils'
    'dialog'
    'intel-ucode'
    'iw'
    'wpa_supplicant'
    'wpa_actiond'
)
md5sums=('SKIP' 'SKIP')
install=hooks.install

source=(
    i915.conf
    https://codeload.github.com/kvalo/ath10k-firmware/zip/master
)

prepare() {
    unzip -o master
}

package() {
    install -Dm 644 $srcdir/i915.conf $pkgdir/etc/modprobe.d/i915.conf

    mkdir -p $pkgdir/tmp/firmware/ath10k/QCA6174/
    cp -rf $srcdir/ath10k-firmware-master/QCA6174/ $pkgdir/tmp/firmware/ath10k/
    chmod 1777 $pkgdir/tmp
    chmod -R 755 $pkgdir/tmp/firmware
}
