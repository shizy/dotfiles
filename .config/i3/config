# ========== SETTINGS ===========

set $mod Mod4
floating_modifier $mod
font pango:M+ 1m, Icons 7.5
workspace_auto_back_and_forth yes
focus_follows_mouse no

# ========== IBAR ===========

bar {
        position top
        status_command i3status --config $XDG_CONFIG_HOME/i3/status
        strip_workspace_numbers yes
        tray_output none

        colors {

            statusline        #383838
            separator         #F1FAEE
            background        #F1FAEE

            #statusline        #888888
            #separator         #000000
            #background        #000000

            focused_workspace  #F1FAEE #F1FAEE #457B9D
            active_workspace   #F1FAEE #F1FAEE #A8DADC
            inactive_workspace #F1FAEE #F1FAEE #383838
            urgent_workspace   #F1FAEE #F1FAEE #E63946

            #focused_workspace  #000000 #000000 #66D9EF
            #active_workspace   #000000 #000000 #FFFFFF
            #inactive_workspace #000000 #000000 #888888
            #urgent_workspace   #000000 #000000 #FD971F
        }
}

# ========== COLORS ==========

hide_edge_borders horizontal
client.focused				#000000 #000000 #66D9EF
client.unfocused			#000000 #000000 #333333
client.focused_inactive		#000000 #000000 #888888
client.urgent				#000000 #000000 #FD971F

# ========== RULES ==========

for_window [class="Termite"] border none
for_window [class="Firefox"] border none
for_window [class="URxvt"] border none
for_window [class="MPlayer"] border none
for_window [class="Zathura"] border none
for_window [title="connman"] border none, floating enable
for_window [class="Termite" title="mutt"] focus
for_window [class="Termite" title="vim"] border none
for_window [class="feh"] floating enable, border none
for_window [class="xfreerdp"] border none
for_window [class="Termite" title="irc"] floating enable, floating disable #termite/weechat quirk

# Scratchpads
for_window [class="Termite" title="top"] floating enable, border none
for_window [class="Termite" title="bottom"] floating enable, border none
for_window [class="Termite" title="left"] floating enable, border none
for_window [class="Termite" title="right"] floating enable, border none
for_window [class="Termite" title="search"] floating enable, border none

# ========== ASSIGNMENT ==========

assign [class="xfreerdp"] 1:
assign [class="Vncviewer"] 1:
assign [class="Firefox"] 2:
assign [class="Termite" title="vim"] 3:
assign [class="Gimp"] 4:
assign [class="MPlayer"] 8:
assign [class="Termite" title="irc"] 9:
assign [class="Termite" title="mutt"] 10:

# ========== AUTOSTART ==========

exec compton --opacity-rule '90:class_g = "Zathura"'
exec firefox --profile $XDG_CACHE_HOME/mozilla/firefox -P shizy
exec sh $XDG_CACHE_HOME/fehbg
exec lockscreen start
exec nvim
exec xdotool mousemove $(xrandr | grep -oP '(?<=current\ ).*?(?=,)' | awk '{print $1 " " $3}')
exec unclutter
exec xset r rate 200 25

# ========== MODES ===========

mode "Aa" {
    bindsym Caps_Lock mode "default"
}

# ========== MAPPINGS ==========

# Scratchpads
bindsym Ctrl+grave exec scratchpad top
bindsym $mod+grave exec scratchpad bottom
bindsym Ctrl+$mod+grave exec scratchpad left

# Shortcuts
bindsym $mod+semicolon exec dmenu_run -nb '#000000' -nf '#888888' -sf '#000000' -sb '#66D9EF' -b -fn 'M+ 1n-8'
bindsym $mod+v exec nvim
#bindsym $mod+Shift+g exec ssh -f -D 8888 vftc sleep 10; exec google-chrome-stable --proxy-server="socks5://127.0.0.1:8888"
bindsym $mod+Return exec termite --title=term
bindsym $mod+i exec termite --title=irc -e "weechat-curses -d $XDG_CONFIG_HOME/weechat"
bindsym $mod+w exec wallpaper
bindsym $mod+n exec termite --title=connman -e "connman-ncurses"
bindsym $mod+m exec termite --title=mutt -e "mutt -F $XDG_CONFIG_HOME/mutt/muttrc"
bindsym $mod+slash exec scratchpad search fuzzysearch
bindsym $mod+f exec firefox --profile $XDG_CACHE_HOME/mozilla/firefox -P shizy

# Utility
bindsym Mod1+Return fullscreen
bindsym $mod+Escape exec i3lock-wrapper
bindsym Caps_Lock mode "Aa"
bindsym $mod+z kill
bindsym $mod+Shift+Tab focus left
bindsym $mod+Tab focus right
bindsym $mod+h exec spaceorscreen left
bindsym $mod+l exec spaceorscreen right
bindsym $mod+Shift+h move workspace to output left
bindsym $mod+Shift+l move workspace to output right
bindsym $mod+Left resize shrink width 10 px or 10 ppt
bindsym $mod+Down resize grow height 10 px or 10 ppt
bindsym $mod+Up resize shrink height 10 px or 10 ppt
bindsym $mod+Right resize grow width 10 px or 10 ppt
bindsym $mod+Shift+r restart
bindsym $mod+Shift+q exit
bindsym $mod+space floating toggle

# Extra Keys
bindsym $mod+F4 exec extend_display
bindsym $mod+F8 exec lockscreen
bindsym $mod+F9 exec xbacklight -dec 10 -steps 1
bindsym $mod+F10 exec xbacklight -inc 10 -steps 1
bindsym $mod+Insert exec scrot $HOME/downloads/%Y-%m-%d-%T-screenshot.png
bindsym XF86AudioLowerVolume exec amixer -q set Master 5-
bindsym XF86AudioRaiseVolume exec amixer -q set Master 5+
bindsym XF86AudioMute exec $(amixer get Master | grep off > /dev/null && amixer -q set Master unmute) || amixer -q set Master mute

# Workspaces
bindsym $mod+1 workspace 1:
bindsym $mod+2 workspace 2:
bindsym $mod+3 workspace 3:
bindsym $mod+4 workspace 4:
bindsym $mod+5 workspace 5
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8:
bindsym $mod+9 workspace 9:
bindsym $mod+0 workspace 10:
bindsym $mod+Shift+1 move container to workspace 1:
bindsym $mod+Shift+2 move container to workspace 2:
bindsym $mod+Shift+3 move container to workspace 3:
bindsym $mod+Shift+4 move container to workspace 4:
bindsym $mod+Shift+5 move container to workspace 5
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8:
bindsym $mod+Shift+9 move container to workspace 9:
bindsym $mod+Shift+0 move container to workspace 10:
