# ========== SETTINGS ===========

set $mod Mod4
floating_modifier $mod
font pango:Inconsolata for Powerline, Icons 8
workspace_auto_back_and_forth yes
focus_follows_mouse no

# ========== IBAR ===========

bar {
        position top
        status_command i3status --config $XDG_CONFIG_HOME/i3/status
        strip_workspace_numbers yes
        tray_output none

        colors {

              statusline        #888888
              separator         #000000

              focused_workspace  #000000 #000000 #66D9EF
              active_workspace   #000000 #000000 #FFFFFF
              inactive_workspace #000000 #000000 #888888
              urgent_workspace   #000000 #000000 #FD971F
        }

}

# ========== COLORS ==========

client.focused				#000000 #000000 #66D9EF
client.unfocused			#000000 #000000 #333333
client.focused_inactive		#000000 #000000 #888888
client.urgent				#000000 #000000 #FD971F

# ========== RULES ==========

for_window [class="Google-chrome-stable"] border none
for_window [class="Google-chrome"] border none
for_window [class="Firefox"] border none
for_window [class="URxvt"] border none
for_window [class="MPlayer"] border none
for_window [class="Zathura"] border none
for_window [instance="connman"] border none, floating enable
for_window [class="URxvt" instance="mutt"] focus
for_window [class="URxvt" instance="search"] floating enable, border none, move position 0px 410px
for_window [class="feh"] floating enable, border none
for_window [class="xfreerdp"] border none

# Scratchpads
for_window [class="URxvt" instance="top"] floating enable
for_window [class="URxvt" instance="bottom"] floating enable
for_window [class="URxvt" instance="left"] floating enable
for_window [class="URxvt" instance="right"] floating enable
for_window [class="URxvt" instance="search"] floating enable

# ========== ASSIGNMENT ==========

assign [class="xfreerdp"] 1:
assign [class="Vncviewer"] 1:
assign [class="Google-chrome-stable"] 2:
assign [class="Google-chrome"] 2:
assign [class="URxvt" instance="vim"] 3:
assign [class="Gimp"] 4:
assign [class="URxvt" instance="man"] 5:
assign [class="MPlayer"] 8:
assign [class="URxvt" instance="irc"] 9:
assign [class="URxvt" instance="mutt"] 10:

# ========== AUTOSTART ==========

exec compton --opacity-rule '85:class_g = "Zathura"'
exec google-chrome-stable --restore-last-session
exec sh $XDG_CACHE_HOME/fehbg
exec $PUBLIC/lock.sh start
exec urxvtc -name vim -e $PUBLIC/nvim.sh
exec xdotool mousemove $(xrandr | grep -oP '(?<=current\ ).*?(?=,)' | awk '{print $1 " " $3}')

# ========== MODES ===========

mode "Aa" {
    bindsym Caps_Lock mode "default"
}

# ========== MAPPINGS ==========

# Scratchpads
bindsym Ctrl+grave exec $PUBLIC/scratchpad.sh top
bindsym $mod+grave exec $PUBLIC/scratchpad.sh bottom
bindsym Ctrl+$mod+grave exec $PUBLIC/scratchpad.sh left

# Shortcuts
bindsym $mod+semicolon exec dmenu_run -nb '#000000' -nf '#888888' -sf '#000000' -sb '#66D9EF' -b -fn 'Inconsolata for Powerline Sans Mono-8'
bindsym $mod+v exec urxvtc -name vim -e $PUBLIC/nvim.sh
bindsym $mod+g exec google-chrome-stable --restore-last-session
bindsym $mod+Shift+g exec ssh -f -D 8888 vftc sleep 10; exec google-chrome-stable --proxy-server="socks5://127.0.0.1:8888"
bindsym $mod+Return exec urxvtc -name term
bindsym $mod+i exec urxvtc -name irc -e weechat-curses -d $XDG_CONFIG_HOME/weechat
bindsym $mod+w exec $PUBLIC/wallpaper.sh
bindsym $mod+n exec urxvtc -name connman -e connman-ncurses
bindsym $mod+m exec urxvtc -name mutt -e mutt -F $XDG_CONFIG_HOME/mutt/muttrc
bindsym $mod+slash exec $PUBLIC/scratchpad.sh search $PUBLIC/search.sh

# Utility
bindsym Mod1+Return fullscreen
bindsym $mod+Escape exec i3lock-wrapper
bindsym Caps_Lock mode "Aa"
bindsym $mod+z kill
bindsym $mod+Shift+Tab focus left
bindsym $mod+Tab focus right
bindsym $mod+h exec $PUBLIC/spaceorscreen.sh left
bindsym $mod+l exec $PUBLIC/spaceorscreen.sh right
bindsym $mod+Shift+h move workspace to output left
bindsym $mod+Shift+l move workspace to output right
bindsym $mod+Left resize shrink width 10 px or 10 ppt
bindsym $mod+Down resize grow height 10 px or 10 ppt
bindsym $mod+Up resize shrink height 10 px or 10 ppt
bindsym $mod+Right resize grow width 10 px or 10 ppt
bindsym $mod+Shift+r restart
bindsym $mod+Shift+q exit
bindsym $mod+space floating toggle

# Extra Keys
bindsym $mod+F4 exec $PUBLIC/extend_display.sh
bindsym $mod+F8 exec $PUBLIC/lock.sh
bindsym $mod+F9 exec xbacklight -dec 10 -steps 1
bindsym $mod+F10 exec xbacklight -inc 10 -steps 1
bindsym $mod+Insert exec scrot $HOME/downloads/%Y-%m-%d-%T-screenshot.png
bindsym XF86AudioLowerVolume exec amixer -q set Master 5-
bindsym XF86AudioRaiseVolume exec amixer -q set Master 5+
bindsym XF86AudioMute exec $(amixer get Master | grep off > /dev/null && amixer -q set Master unmute) || amixer -q set Master mute

# Workspaces
bindsym $mod+1 workspace 1:
bindsym $mod+2 workspace 2:
bindsym $mod+3 workspace 3:
bindsym $mod+4 workspace 4:
bindsym $mod+5 workspace 5:
bindsym $mod+6 workspace 6
bindsym $mod+7 workspace 7
bindsym $mod+8 workspace 8:
bindsym $mod+9 workspace 9:
bindsym $mod+0 workspace 10:
bindsym $mod+Shift+1 move container to workspace 1:
bindsym $mod+Shift+2 move container to workspace 2:
bindsym $mod+Shift+3 move container to workspace 3:
bindsym $mod+Shift+4 move container to workspace 4:
bindsym $mod+Shift+5 move container to workspace 5:
bindsym $mod+Shift+6 move container to workspace 6
bindsym $mod+Shift+7 move container to workspace 7
bindsym $mod+Shift+8 move container to workspace 8:
bindsym $mod+Shift+9 move container to workspace 9:
bindsym $mod+Shift+0 move container to workspace 10:
